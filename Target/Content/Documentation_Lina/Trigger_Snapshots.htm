<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" xml:space="preserve">
    <head>
        <link href="../Resources/Stylesheets/styles.css" rel="stylesheet" />
    </head>
    <body>
        <h1 MadCap:autonum=""><a name="appendix_server_protect_2327159732_1115301"></a>Trigger Snapshots</h1>
        <p class="BodyAfterHead">Snapshots operations take place in the <span class="Monospace">ade_admin</span> Command Line Interface.</p>
        <p class="htd_HeadingToDo" MadCap:autonum="">To launch ade_admin</p>
        <p class="s1_StepNum" MadCap:autonum="1. ">On the machine hosting the <MadCap:variable name="ALN.ade" />, launch the <span class="Monospace">ade_admin</span> command line interface:</p>
        <p class="BulletedIndent" style="font-family: Arial;font-weight: bold;font-style: normal;font-size: 11pt;letter-spacing: 0em;text-decoration: none;" MadCap:autonum="• "><span class="Lead-In">Windows.</span>
        </p>
        <p class="BulletedIndentCont">
            <MadCap:annotation MadCap:createDate="2022-06-17T19:26:21.9027728+02:00" MadCap:creator="lisal" MadCap:initials="LI" MadCap:comment="toujours valable ?" MadCap:editor="lisal" MadCap:editDate="2022-06-17T19:26:30.2421511+02:00">Go to <span class="interface" style="font-weight: bold;">Start</span> &gt; <span class="interface" style="font-weight: bold;">Programs</span> &gt;<b> Atempo Deduplication Engine </b>&gt; <b>Administration</b>.</MadCap:annotation>
        </p>
        <p class="BulletedIndent" style="font-family: Arial;font-weight: bold;font-style: normal;font-size: 11pt;letter-spacing: 0em;text-decoration: none;" MadCap:autonum="• "><span class="Lead-In">Linux.</span>
        </p>
        <p class="BulletedIndentCont">Launch the <span class="Monospace">./ade_admin</span> command.</p>
        <p class="s1_StepNum" MadCap:autonum="2. ">Connect with the <span class="Monospace">admin</span> profile and provide the password.</p>
        <p class="pc_procedure_cont"><span class="Lead-In">ade_admin commands.</span> These are the <span class="Monospace">ade_admin</span> commands to use for snapshots:</p>
        <p class="BulletedIndent" MadCap:autonum="• "><span class="Monospace">snap_create</span>
        </p>
        <p class="BulletedIndentCont">Puts the ADE server in hot backup mode, creates a snapshot, then exits the hot backup mode. It returns the snapshot ID and all paths to protect. If you intend to perform a backup, then it is mandatory to back up all the provided paths.</p>
        <p class="BulletedIndent" MadCap:autonum="• "><span class="Monospace">snap_list</span>
        </p>
        <p class="BulletedIndentCont">Displays a list of all the snapshots created with the command <span class="Monospace">snap_create</span>.</p>
        <p class="BulletedIndent" MadCap:autonum="• "><span class="Monospace">snap_delete</span> &lt;ID&gt;</p>
        <p class="BulletedIndentCont">Deletes the snapshot specified with the ID.</p>
        <p class="BulletedIndent" MadCap:autonum="• "><span class="Monospace">snap_bck_list </span>&lt;ID&gt;</p>
        <p class="BulletedIndentCont">Lists the paths of all the ADE components necessary to back up this snapshot (home directory, block repositories, database, logs, etc.).</p>
        <p class="BodyIndent">The following commands are for Linux only:</p>
        <p class="BulletedIndent" MadCap:autonum="• "><span class="Monospace">snap_mount</span> &lt;ID&gt;</p>
        <p class="BulletedIndentCont">Mounts snapshot &lt;ID&gt; on path <span class="Monospace">&lt;ADE Install path&gt; /snapshot/&lt;ID&gt;</span> in read-only mode.</p>
        <p class="BulletedIndent" MadCap:autonum="• "><span class="Monospace">snap_unmount</span> &lt;ID&gt;</p>
        <p class="BulletedIndentCont">Unmounts snapshot &lt;ID&gt;.</p>
        <h2 MadCap:autonum="">ade_admin commands on a Windows system example</h2>
        <p class="JCLTop">WIN-1NAI2760G00:23232&gt; snap_create</p>
        <p class="JCL">SNAPID={B4C61C61-75FC-4067-8A1C-EEB89462B46F}</p>
        <p class="JCL"> </p>
        <p class="JCL">HOME=C:\DEV\dedup</p>
        <p class="JCL">SNAP_HOME=\\?\GLOBALROOT\Device\HarddiskVolumeShadowCopy77\DEV\dedup</p>
        <p class="JCL">DB_CORE=C:\DEV\dedup\rds\catalog\dedup_block_dat\</p>
        <p class="JCL">SNAP_DB_CORE=\\?\GLOBALROOT\Device\HarddiskVolumeShadowCopy77\DEV\dedup\rds\catalog\dedup_block_dat</p>
        <p class="JCL">DB_LOG=C:\DEV\dedup\syslog\</p>
        <p class="JCL">SNAP_DB_LOG=\\?\GLOBALROOT\Device\HarddiskVolumeShadowCopy77\DEV\dedup\syslog</p>
        <p class="JCL">REPOSITORY=C:\DEV\dedup\server\dedup_block\block</p>
        <p class="JCL">SNAP_REPOSITORY=\\?\GLOBALROOT\Device\HarddiskVolumeShadowCopy77\DEV\dedup\server\dedup_block\block</p>
        <p class="JCL">REPOSITORY=C:\TEST\JUNCTION</p>
        <p class="JCL">SNAP_REPOSITORY=\\?\GLOBALROOT\Device\HarddiskVolumeShadowCopy78\AAA\BBB</p>
        <p class="JCL">REPOSITORY=C:\link\rep_link</p>
        <p class="JCL">SNAP_REPOSITORY=\\?\GLOBALROOT\Device\HarddiskVolumeShadowCopy78\target_of_link\rep_link</p>
        <p class="JCL">REPOSITORY=C:\mount\rep_mount</p>
        <p class="JCL">SNAP_REPOSITORY=\\?\GLOBALROOT\Device\HarddiskVolumeShadowCopy79\rep_mount</p>
        <p class="JCL">WIN-1NAI2760G00:23232&gt; snap_list</p>
        <p class="JCL">{F407669E-6592-42BC-B82F-1EAC864B51F5}</p>
        <p class="JCL">{284B9A54-6F89-425B-8DB1-E6408DF9A223}</p>
        <p class="JCL">{B4C61C61-75FC-4067-8A1C-EEB89462B46F}</p>
        <p class="JCLBottom">WIN-1NAI2760G00:23232&gt; snap_delete {B4C61C61-75FC-4067-8A1C-EEB89462B46F}</p>
        <h2 MadCap:autonum="">ade_admin commands on a Linux system example</h2>
        <p class="JCLTop">hyperstream:23238&gt; snap_create</p>
        <p class="JCL">SNAPID=SNAP_a9f36767_65ec_45ca_bf80_e9502e486972_1425649105</p>
        <p class="JCL"> </p>
        <p class="JCL">HOME=/mnt/lv1/ADE33/snapshot/SNAP_a9f36767_65ec_45ca_bf80_e9502e486972_1425649105_00/ADE33</p>
        <p class="JCL">DB_CORE=/mnt/lv1/ADE33/snapshot/SNAP_a9f36767_65ec_45ca_bf80_e9502e486972_1425649105_00/ADE33/rds/catalog/dedup_block_dat</p>
        <p class="JCL">DB_LOG=/mnt/lv1/ADE33/snapshot/SNAP_a9f36767_65ec_45ca_bf80_e9502e486972_1425649105_00/ADE33/syslog</p>
        <p class="JCL">REPOSITORY=/mnt/lv1/ADE33/snapshot/SNAP_a9f36767_65ec_45ca_bf80_e9502e486972_1425649105_00/ADE33/server/dedup_block/block</p>
        <p class="JCL">REPOSITORY=/mnt/lv1/ADE33/snapshot/SNAP_a9f36767_65ec_45ca_bf80_e9502e486972_1425649105_01/BLOCKS</p>
        <p class="JCL">STREAM=/mnt/lv1/ADE33/snapshot/SNAP_a9f36767_65ec_45ca_bf80_e9502e486972_1425649105_01/STREAMS</p>
        <p class="JCL">hyperstream:23238&gt; snap_list</p>
        <p class="JCL">SNAP_a9f36767_65ec_45ca_bf80_e9502e486972_1425563072 Thu Mar 05 14:44:32 2015</p>
        <p class="JCL">SNAP_a9f36767_65ec_45ca_bf80_e9502e486972_1425563140 Thu Mar 05 14:45:40 2015</p>
        <p class="JCL">SNAP_a9f36767_65ec_45ca_bf80_e9502e486972_1425649105 Fri Mar 06 14:38:25 2015</p>
        <p class="JCL">hyperstream:23238&gt; snap_umount SNAP_a9f36767_65ec_45ca_bf80_e9502e486972_1425649105</p>
        <p class="JCLBottom">hyperstream:23238&gt; snap_delete SNAP_a9f36767_65ec_45ca_bf80_e9502e486972_1425649105</p>
    </body>
</html>