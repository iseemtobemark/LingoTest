<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" xml:space="preserve">
    <head>
        <link href="../Resources/Stylesheets/styles.css" rel="stylesheet" />
    </head>
    <body>
        <h1 MadCap:conditions="General.Hidden" MadCap:autonum=""><a name="replication_common_1574186889_1082127"></a>Prerequisites</h1>
        <h2 MadCap:conditions="General.Hidden" MadCap:autonum=""><a name="replication_common_1574186889_1082129"></a><a name="replication_common_1574186889_59259"></a>Replication Prerequisites</h2>
        <p class="BodyAfterHead" MadCap:conditions="General.Hidden">These are the prerequisites to <MadCap:variable name="HSS.aln" /> replication:</p>
        <p class="Bulleted" MadCap:conditions="General.Hidden" MadCap:autonum="• ">A license with the replication option activated is mandatory</p>
        <p class="Bulleted" MadCap:conditions="General.Hidden" MadCap:autonum="• ">The source and destination servers must:</p>
        <p class="BulletedList" MadCap:conditions="General.Hidden" MadCap:autonum="–">Be installed on different physical servers.</p>
        <p class="BulletedList" MadCap:conditions="General.Hidden" MadCap:autonum="–">Have the same <MadCap:variable name="HSS.aln" /> version.</p>
        <p class="Bulleted" MadCap:conditions="General.Hidden" MadCap:autonum="• ">If you want to perform recoveries by copying physical files, the servers must have:</p>
        <p class="BulletedList" MadCap:conditions="General.Hidden" MadCap:autonum="–">The same architecture.</p>
        <p class="BulletedList" MadCap:conditions="General.Hidden" MadCap:autonum="–">The same operating system.</p>
        <p class="Bulleted" MadCap:conditions="General.Hidden" MadCap:autonum="• ">Each replication node must have access to these ports:</p>
        <p class="BulletedList" MadCap:conditions="General.Hidden" MadCap:autonum="–"> <span class="Lead-In">8181.</span> Communication port for <MadCap:variable name="HSS.ade_admin" />.</p>
        <p class="BulletedList" MadCap:conditions="General.Hidden" MadCap:autonum="–"><span class="Lead-In">9080.</span> Communication port for <MadCap:variable name="HSS.aln" /> in non encrypted mode, and it is used by replication. If you choose another value on the target node, you must specify it to the source node.</p>
        <p class="BulletedIndentCont" MadCap:conditions="General.Hidden">To do so, edit the <span class="Monospace">&lt;ALN_Root&gt;/advsettings.cfg</span> file on the source node, and add this line:</p>
        <p class="BulletedIndentCont" MadCap:conditions="General.Hidden"><span class="Monospace">HN_TARGET_HTTP_PORT=XXXX</span>
        </p>
        <p class="BulletedIndentCont" MadCap:conditions="General.Hidden">Where <span class="Monospace">XXXX</span> is the port number you choose.</p>
        <p class="BulletedList" MadCap:conditions="General.Hidden" MadCap:autonum="–"><span class="Lead-In">23232.</span> Communication port for <MadCap:variable name="HSS.ade" />.</p>
        <p class="NoteIndent" MadCap:conditions="General.Hidden">Do not forget to create adequate rules in your firewall configuration.</p>
        <h2 MadCap:conditions="General.Hidden" MadCap:autonum=""><a name="replication_common_1574186889_1082161"></a><a name="replication_common_1574186889_31012"></a>Disaster Recovery Prerequisites</h2>
        <p class="BodyAfterHead" MadCap:conditions="General.Hidden">Sooner or later, your system may suffer from hardware issues or file system corruption. For instance, a hard drive failure of the disk where the block files are stored may corrupt the <MadCap:variable name="HSS.aln" /> server. Disaster Recovery is the feature used to rebuild a server from replicated data stored on another server. To enable the use of this feature, you must follow some prerequisites.</p>
        <h3 MadCap:conditions="General.Hidden" MadCap:autonum=""><a name="replication_common_1574186889_64351"></a>About Bootstrap Configuration Files</h3>
        <p class="BodyAfterHead" MadCap:conditions="General.Hidden">Bootstrap configuration files are <MadCap:variable name="HSS.aln" /> server files used to record configuration information necessary to rebuild your server in case of disaster. </p>
        <p class="Body" MadCap:conditions="General.Hidden">To use the disaster recovery replication feature, you need an up-to-date copy of those bootstrap configuration files. </p>
        <p class="Body" MadCap:conditions="General.Hidden">It is therefore very important that you copy these files to a safe place <span class="Emphasis">each time you make significant modifications to your configuration</span> such as adding a replication source or target, or adding new agents.</p>
        <p class="Body" MadCap:conditions="General.Hidden">These are the three bootstrap configuration files, that are by default located in these directories (if you modified the default path during the installation, modify these paths accordingly):</p>
        <p class="Bulleted" MadCap:conditions="General.Hidden" MadCap:autonum="• "><span class="Monoitalic">&lt;ALN_root&gt;</span><span class="Monospace">\AdminDB\HNServerClients.xml</span>
        </p>
        <p class="BulletedCont" MadCap:conditions="General.Hidden">For instance:</p>
        <p class="BulletedCont" MadCap:conditions="General.Hidden"><span class="Monospace">C:\Program Files\Atempo\AtempoDedupEngine\default\HSX\AdminDB\<br />HNServerClients.xml</span>
        </p>
        <p class="Bulleted" MadCap:conditions="General.Hidden" MadCap:autonum="• "><span class="Monoitalic">&lt;ALN_root&gt;</span><span class="Monospace">\AdminDB\HNServerRules.xml</span>
        </p>
        <p class="BulletedCont" MadCap:conditions="General.Hidden">For instance:</p>
        <p class="BulletedCont" MadCap:conditions="General.Hidden"><span class="Monospace">C:\Program Files\Atempo\AtempoDedupEngine\default\HSX\AdminDB\<br />HNServerRules.xml</span>
        </p>
        <p class="Bulleted" MadCap:conditions="General.Hidden" MadCap:autonum="• "><span class="Monoitalic">&lt;ADE_root&gt;</span><span class="Monospace">\Conf\config.xml</span>
        </p>
        <p class="BulletedCont" MadCap:conditions="General.Hidden">For instance:</p>
        <p class="BulletedCont" MadCap:conditions="General.Hidden"><span class="Monospace">C:\Program Files\Atempo\AtempoDedupEngine\default\conf\<br />config.xml</span>
        </p>
        <h3 MadCap:conditions="General.Hidden" MadCap:autonum="">Backing up the Bootstrap Configuration Files</h3>
        <p class="BodyAfterHead" MadCap:conditions="General.Hidden">Once every hour, an automatic backup of those files is performed in the first declared block repository.</p>
        <p class="Body" MadCap:conditions="General.Hidden">You can still manually back up the bootstrap configuration files.</p>
        <p class="htd_HeadingToDo" MadCap:conditions="General.Hidden" MadCap:autonum="">To back up bootstrap configuration files manually</p>
        <p class="s1_StepNum" MadCap:conditions="General.Hidden" MadCap:autonum="1. ">On the machine hosting the <MadCap:variable name="HSS.ade" />, launch the <span class="Monospace">ade_admin</span> command line interface:</p>
        <p class="BulletedIndent" MadCap:conditions="General.Hidden" MadCap:autonum="• "><span class="Lead-In">Windows.</span>
        </p>
        <p class="BulletedIndentCont" MadCap:conditions="General.Hidden">Select Start <img src="../Resources/Images/Sources/menuarrow.png" /> Programs <img src="../Resources/Images/Sources/menuarrow.png" /> Atempo Deduplication Engine <img src="../Resources/Images/Sources/menuarrow.png" /> Administration.</p>
        <p class="BulletedIndent" MadCap:conditions="General.Hidden" MadCap:autonum="• "><span class="Lead-In">macOS/Linux.</span>
        </p>
        <p class="BulletedIndentCont" MadCap:conditions="General.Hidden">Launch the <span class="Monospace">./ade_admin</span> command.</p>
        <p class="s1_StepNum" MadCap:conditions="General.Hidden" MadCap:autonum="2. ">Provide a password. Two default users exist in the <MadCap:variable name="HSS.ade" />:</p>
        <p class="BulletedIndent" MadCap:conditions="General.Hidden" MadCap:autonum="• "><span class="Monospace">admin</span>, password <span class="Monospace">admin</span> (default user with administrative rights).</p>
        <p class="BulletedIndent" MadCap:conditions="General.Hidden" MadCap:autonum="• "><span class="Monospace">tina</span>, password <span class="Monospace">tina</span> (default user).</p>
        <p class="NoteIndent" MadCap:conditions="General.Hidden">To launch the Command Line Interface with a different user, run the <span class="Monospace">./ade_admin -u username</span> command.</p>
        <p class="pc_procedure_cont" MadCap:conditions="General.Hidden">You are prompted to enter the password for this user.</p>
        <p class="s1_StepNum" MadCap:conditions="General.Hidden" MadCap:autonum="3. ">In <span class="Monospace">ade_admin</span>, launch this command:</p>
        <p class="One-line_JCL_Indent" MadCap:conditions="General.Hidden"><span class="Monospace">save_cfg </span><span class="Monoitalic">&lt;path&gt;</span>
        </p>
        <p class="Message_Where" MadCap:conditions="General.Hidden" MadCap:autonum="Where: "><span class="Monoitalic" style="font-size: 10pt;line-height: 12pt;">&lt;path&gt;</span> is the directory on your server where <MadCap:variable name="HSS.aln" /> saves the bootstrap configuration file.</p>
        <p class="NoteIndent" MadCap:conditions="General.Hidden">The content of this directory is required to perform a Disaster recovery operation, thus you should keep it in a location that will remain available should the machine where your <MadCap:variable name="HSS.aln" /> server is installed be destroyed.</p>
        <p class="s1_StepNum" MadCap:conditions="General.Hidden" MadCap:autonum="4. ">Repeat this operation each time the configuration files are modified, for instance when you add new agents, new replications, new rules, etc.</p>
    </body>
</html>